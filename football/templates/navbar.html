{% load static %}

<!-- navbar.html -->
<head>
    <!-- Font awesome -->
    <script src="https://kit.fontawesome.com/456d64337e.js" crossorigin="anonymous"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}">
</head>
<header>
    <img src="{% static 'images/li__1_-removebg-preview.png' %}" alt="logo">
    <nav class="navbar">
        <a href="{% url 'home' %}" class="{% if request.path == '/' %}active{% elif 'home' in request.path %}active{% endif %}">Home</a>
        <a href="{% url 'finance' %}" class="{% if 'finance' in request.path %}active{% endif %}">Finance</a>
        <a href="{% url 'fixtures' %}" class="{% if 'fixture' in request.path %}active{% endif %}">Fixtures</a>
        <a href="{% url 'clubs' %}" class="{% if 'club' in request.path %}active{% endif %}">Clubs</a>
        <!-- <a href="{% url 'contact_us' %}" class="{% if 'contact' in request.path %}active{% endif %}">Contact us</a> -->

    </nav>
    <div class="icons">
        <!-- <a href="pages/login.html">Login</a> -->
        <i class="fas fa-bars" id="menu-bars"></i>
    </div>
</header>


<script>
    /**
     * Handles the toggling of the navigation menu and link activation behavior.
     *
     * This script controls the interaction between the menu icon and the navigation links. It:
     * - Toggles the visibility of the navbar by adding or removing the 'active' class.
     * - Adds the 'active' class to the selected link while removing it from others.
     * - Implements smooth scrolling to the top of the page when a link is clicked.
     * - Closes the menu once a link is selected.
     */
    let menu = document.querySelector('#menu-bars');
    let navbar = document.querySelector('.navbar');
    var links = document.querySelectorAll('.navbar a');
    var sections = document.querySelectorAll('section');

    /**
     * Toggles the 'fa-times' class on the menu icon and the 'active' class on the navbar.
     * This function is triggered by clicking the menu icon to open or close the navbar.
     */
    menu.onclick = () => {
        menu.classList.toggle('fa-times');
        navbar.classList.toggle('active');
    }

    /**
     * Adds click event listeners to each navbar link.
     * When a link is clicked:
     * - The 'active' class is removed from all links and applied to the clicked link.
     * - The page scrolls to the top smoothly.
     * - The navbar closes and the menu icon is reverted to the default state.
     */
    links.forEach(function(link) {
        link.addEventListener('click', function(event) {
            //event.preventDefault(); 

            links.forEach(function(link) {
                link.classList.remove('active');
            });

            this.classList.add('active');
            
            // Scroll to the top of the page
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Close the navbar after a link is clicked
            menu.classList.remove('fa-times');
            navbar.classList.remove('active');
        });
    });
</script>

